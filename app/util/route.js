"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MAX_PAGES = 9;
exports.navTo = function (url) {
    var pages = getCurrentPages();
    var pageLen = pages.length;
    var existedIndex = pages.findIndex(function (x) { return "/" + x.route === url; });
    console.log(pages.map(function (x) { return x.route; }), pageLen, existedIndex);
    if (existedIndex !== -1) {
        wx.navigateBack({
            delta: pageLen - existedIndex - 1
        });
    }
    else {
        if (pageLen < MAX_PAGES) {
            wx.navigateTo({
                url: url
            });
        }
        else {
            wx.redirectTo({
                url: url
            });
        }
    }
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicm91dGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJyb3V0ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQU0sU0FBUyxHQUFHLENBQUMsQ0FBQztBQUVQLFFBQUEsS0FBSyxHQUFHLFVBQUUsR0FBVztJQUUxQixJQUFNLEtBQUssR0FBRyxlQUFlLEVBQUcsQ0FBQztJQUNqQyxJQUFNLE9BQU8sR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDO0lBQzdCLElBQU0sWUFBWSxHQUFHLEtBQUssQ0FBQyxTQUFTLENBQUUsVUFBQSxDQUFDLElBQUksT0FBQSxNQUFJLENBQUMsQ0FBQyxLQUFPLEtBQUssR0FBRyxFQUFyQixDQUFxQixDQUFFLENBQUM7SUFFbkUsT0FBTyxDQUFDLEdBQUcsQ0FBRSxLQUFLLENBQUMsR0FBRyxDQUFFLFVBQUEsQ0FBQyxJQUFJLE9BQUEsQ0FBQyxDQUFDLEtBQUssRUFBUCxDQUFPLENBQUUsRUFBRSxPQUFPLEVBQUUsWUFBWSxDQUFFLENBQUM7SUFFaEUsSUFBSyxZQUFZLEtBQUssQ0FBQyxDQUFDLEVBQUc7UUFDdkIsRUFBRSxDQUFDLFlBQVksQ0FBQztZQUNaLEtBQUssRUFBRSxPQUFPLEdBQUcsWUFBWSxHQUFHLENBQUM7U0FDcEMsQ0FBQyxDQUFDO0tBQ047U0FBTTtRQUNILElBQUssT0FBTyxHQUFHLFNBQVMsRUFBRztZQUN2QixFQUFFLENBQUMsVUFBVSxDQUFDO2dCQUNWLEdBQUcsS0FBQTthQUNOLENBQUMsQ0FBQztTQUNOO2FBQU07WUFDSCxFQUFFLENBQUMsVUFBVSxDQUFDO2dCQUNWLEdBQUcsS0FBQTthQUNOLENBQUMsQ0FBQztTQUNOO0tBQ0o7QUFDVCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBNQVhfUEFHRVMgPSA5O1xuXG5leHBvcnQgY29uc3QgbmF2VG8gPSAoIHVybDogc3RyaW5nICkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHBhZ2VzID0gZ2V0Q3VycmVudFBhZ2VzKCApO1xuICAgICAgICBjb25zdCBwYWdlTGVuID0gcGFnZXMubGVuZ3RoO1xuICAgICAgICBjb25zdCBleGlzdGVkSW5kZXggPSBwYWdlcy5maW5kSW5kZXgoIHggPT4gYC8ke3gucm91dGV9YCA9PT0gdXJsICk7XG5cbiAgICAgICAgY29uc29sZS5sb2coIHBhZ2VzLm1hcCggeCA9PiB4LnJvdXRlICksIHBhZ2VMZW4sIGV4aXN0ZWRJbmRleCApO1xuXG4gICAgICAgIGlmICggZXhpc3RlZEluZGV4ICE9PSAtMSApIHtcbiAgICAgICAgICAgIHd4Lm5hdmlnYXRlQmFjayh7XG4gICAgICAgICAgICAgICAgZGVsdGE6IHBhZ2VMZW4gLSBleGlzdGVkSW5kZXggLSAxXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICggcGFnZUxlbiA8IE1BWF9QQUdFUyApIHtcbiAgICAgICAgICAgICAgICB3eC5uYXZpZ2F0ZVRvKHtcbiAgICAgICAgICAgICAgICAgICAgdXJsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHd4LnJlZGlyZWN0VG8oe1xuICAgICAgICAgICAgICAgICAgICB1cmxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxufTsiXX0=