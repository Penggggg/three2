"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MAX_PAGES = 9;
exports.navTo = function (url) {
    var pages = getCurrentPages();
    var pageLen = pages.length;
    var existedIndex = pages.findIndex(function (x) { return "/" + x.route === url.split('?')[0]; });
    console.log(pages.map(function (x) { return x.route; }), pageLen, existedIndex);
    if (existedIndex !== -1) {
        wx.navigateBack({
            delta: pageLen - existedIndex - 1
        });
    }
    else {
        if (pageLen < MAX_PAGES) {
            wx.navigateTo({
                url: url
            });
        }
        else {
            wx.redirectTo({
                url: url
            });
        }
    }
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicm91dGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJyb3V0ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQU0sU0FBUyxHQUFHLENBQUMsQ0FBQztBQVFQLFFBQUEsS0FBSyxHQUFHLFVBQUUsR0FBVztJQUUxQixJQUFNLEtBQUssR0FBRyxlQUFlLEVBQUcsQ0FBQztJQUNqQyxJQUFNLE9BQU8sR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDO0lBQzdCLElBQU0sWUFBWSxHQUFHLEtBQUssQ0FBQyxTQUFTLENBQUUsVUFBQSxDQUFDLElBQUksT0FBQSxNQUFJLENBQUMsQ0FBQyxLQUFPLEtBQUssR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBRSxDQUFDLENBQUUsRUFBckMsQ0FBcUMsQ0FBQyxDQUFDO0lBRWxGLE9BQU8sQ0FBQyxHQUFHLENBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBRSxVQUFBLENBQUMsSUFBSSxPQUFBLENBQUMsQ0FBQyxLQUFLLEVBQVAsQ0FBTyxDQUFFLEVBQUUsT0FBTyxFQUFFLFlBQVksQ0FBRSxDQUFBO0lBRS9ELElBQUssWUFBWSxLQUFLLENBQUMsQ0FBQyxFQUFHO1FBQ3ZCLEVBQUUsQ0FBQyxZQUFZLENBQUM7WUFDWixLQUFLLEVBQUUsT0FBTyxHQUFHLFlBQVksR0FBRyxDQUFDO1NBQ3BDLENBQUMsQ0FBQztLQUNOO1NBQU07UUFDSCxJQUFLLE9BQU8sR0FBRyxTQUFTLEVBQUc7WUFDdkIsRUFBRSxDQUFDLFVBQVUsQ0FBQztnQkFDVixHQUFHLEtBQUE7YUFDTixDQUFDLENBQUM7U0FDTjthQUFNO1lBQ0gsRUFBRSxDQUFDLFVBQVUsQ0FBQztnQkFDVixHQUFHLEtBQUE7YUFDTixDQUFDLENBQUM7U0FDTjtLQUNKO0FBQ1QsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgTUFYX1BBR0VTID0gOTtcblxuLyoqXG4gKiBcbiAqICEgYnVnXG4gKiDov57nu60y5Liq55u45ZCMdXJs77yM5LiN5ZCMcXVlcnnvvIxcbiAqIEEgLT4gQiDnmoTml7blgJnvvIxxdWVyeeWPguaVsOWPr+iDveaciemXrumimFxuICovXG5leHBvcnQgY29uc3QgbmF2VG8gPSAoIHVybDogc3RyaW5nICkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHBhZ2VzID0gZ2V0Q3VycmVudFBhZ2VzKCApO1xuICAgICAgICBjb25zdCBwYWdlTGVuID0gcGFnZXMubGVuZ3RoO1xuICAgICAgICBjb25zdCBleGlzdGVkSW5kZXggPSBwYWdlcy5maW5kSW5kZXgoIHggPT4gYC8ke3gucm91dGV9YCA9PT0gdXJsLnNwbGl0KCc/JykgWzAgXSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coIHBhZ2VzLm1hcCggeCA9PiB4LnJvdXRlICksIHBhZ2VMZW4sIGV4aXN0ZWRJbmRleCApXG5cbiAgICAgICAgaWYgKCBleGlzdGVkSW5kZXggIT09IC0xICkge1xuICAgICAgICAgICAgd3gubmF2aWdhdGVCYWNrKHtcbiAgICAgICAgICAgICAgICBkZWx0YTogcGFnZUxlbiAtIGV4aXN0ZWRJbmRleCAtIDFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCBwYWdlTGVuIDwgTUFYX1BBR0VTICkge1xuICAgICAgICAgICAgICAgIHd4Lm5hdmlnYXRlVG8oe1xuICAgICAgICAgICAgICAgICAgICB1cmxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgd3gucmVkaXJlY3RUbyh7XG4gICAgICAgICAgICAgICAgICAgIHVybFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG59OyJdfQ==