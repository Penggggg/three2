<!--container/form/trip-detail/index.wxml-->
<view class='con-form-trip-detail'>

    <!-- 基本信息 -->
    <my-active-form
        id="form1"
        meta="{{ meta }}"
    />

    <!-- 商品推荐 -->
    <view class="recommend-block">

        <!-- 商品推荐列表 -->
        <scroll-view
            scroll-x="{{ true }}"
            wx:if="{{ selectedProducts.length > 0 }}"
            class="recommend-list"
        >
            <view
                class="recommend-item"
                wx:key="{{ index }}"
                data-sid="{{ item._id }}"
                bindtap="toggleDeleteRecommend"
                wx:for="{{ selectedProducts }}"
            >
                <image
                    mode="aspectFill"
                    class="recommend-item-img"
                    src="{{ item.img[ 0 ]}}"
                />
                <view class="recommend-item-title">{{ item.title }}</view>
            </view>
        </scroll-view>
        
        <!-- 商品推荐按钮 -->
        <view class='recommend-btn-block'>
            <wxc-button
                type="beauty"
                plain="{{ true }}"
                bind:tap="onToggleProduct"
            >
                选择商品
            </wxc-button>
        </view>

    </view>

    <!-- 商品选择 -->
    <my-product-selector
        show="{{ showProduct }}"
        bind:close="onToggleProduct"
        bind:confirm="onConfirmProduct"
    />

    <!-- 删除推荐 -->
    <i-modal
        title="提示"
        bind:ok="confirmDelete"
        visible="{{ showDelete }}"
        bind:cancel="toggleDeleteRecommend"
    >
        确定去掉该推荐商品吗?
    </i-modal>

</view>
